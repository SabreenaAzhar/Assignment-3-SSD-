# ---------------- DATABASE CONFIG ----------------
#   [4] Testing & Verification:
#   Using an in-memory H2 database for safe, isolated testing without persisting real data.
spring.datasource.url=jdbc:h2:mem:apilab;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=update
spring.h2.console.enabled=true

# ---------------- [7] JWT CONFIG (HARDENED) ----------------
# JWT Hardening:
#     Load secret key from environment variable for production.
#     Fallback only for local development (prevents hardcoded secrets in code).
app.jwt.secret=${JWT_SECRET:ChangeThisToAProperlyLongRandomSecretKey!@#789}

# Short TTL (15 minutes) to minimize risk from token theft or replay attacks.
app.jwt.ttl-seconds=900

#Include and validate issuer and audience claims to prevent misuse of tokens from other apps.
app.jwt.issuer=owasp-api-lab
app.jwt.audience=owasp-api-users


# ---------------- [8] ERROR HANDLING & LOGGING  ----------------
#Disable detailed error messages in client responses to prevent information disclosure.
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never
# Disable default whitelabel error page to avoid exposing system details.
server.error.whitelabel.enabled=false

#  Configure secure application logging â€” info-level logs stored in 'logs/app.log'.
logging.level.root=INFO
logging.file.name=logs/app.log
